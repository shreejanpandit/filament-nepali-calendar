(()=>{function r(i){return{state:i.state,displayText:"",options:i.options||{},isInitialized:!1,init(){this.$nextTick(()=>{this.initializeNepaliDatePicker()}),this.$watch("state",t=>{t&&this.isInitialized&&(this.displayText=this.formatDateForDisplay(t))})},initializeNepaliDatePicker(){if(this.isInitialized||typeof window.nepaliDatePicker>"u")return;let t=this.$refs.input;$(t).nepaliDatePicker({dateFormat:this.options.dateFormat||"%Y-%m-%d",closeOnDateSelect:this.options.closeOnDateSelect!==!1,onChange:e=>{this.handleDateChange(e)}}),this.isInitialized=!0,this.state&&(this.displayText=this.formatDateForDisplay(this.state),$(t).val(this.displayText))},handleDateChange(t){t?(this.displayText=t,this.state=t):(this.state=null,this.displayText="")},formatDateForDisplay(t){if(!t)return"";try{let e=new Date(t),a=e.getFullYear()+56,s=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0");return`${a}-${s}-${n}`}catch{return t}},clearState(){this.state=null,this.displayText="",this.$refs.input&&$(this.$refs.input).val("")}}}typeof jQuery>"u"&&console.warn("jQuery is required for Nepali Date Picker");typeof window.nepaliDatePicker>"u"&&console.warn("nepaliDatePicker is not loaded. Make sure to include the script.");})();
